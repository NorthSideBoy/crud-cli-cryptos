"use strict";(globalThis["webpackChunkquasar"]=globalThis["webpackChunkquasar"]||[]).push([[655],{9655:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Me});var o=l(3673);const a={class:"row justify-center"},r={class:"col-12"},n={class:"text-h5 q-pb-md"},s=(0,o.Uk)(" !Registra una Cryptomoneda! "),i={class:"col-12 q-pt-md"};function p(e,t,l,p,u,d){const m=(0,o.up)("q-badge"),c=(0,o.up)("cryptos-register-q-form-vue"),h=(0,o.up)("q-card-section"),y=(0,o.up)("q-card"),g=(0,o.up)("cryptos-q-table"),f=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(f,{padding:""},{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o._)("div",r,[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o._)("div",n,[(0,o.Wm)(m,{class:"text-h5 shadow-2",color:"green-5"},{default:(0,o.w5)((()=>[s])),_:1})]),(0,o._)("div",null,[(0,o.Wm)(c)])])),_:1})])),_:1})]),(0,o._)("div",i,[(0,o.Wm)(g)])])])),_:1})}var u=l(2323),d=l(8880);const m=(0,o.Uk)(" Cryptomonedas "),c=["src"],h={class:"text-h6"},y=(0,o.Uk)("Actualizar Cryptomoneda "),g=(0,o.Uk)(" File size "),f=["src"],w={align:"center"},b={class:"text-h5 text-center"},_=(0,o.Uk)("Parece que algo salio mal al intentar actualizar la Cryptomoneda "),C=(0,o.Uk)("... :("),I={class:"q-pa-md"},W=["src"],v=(0,o._)("div",{class:"text-h5 text-center q-pa-md"},[(0,o._)("strong",null,"¿Porque ocurre este error?")],-1),V=(0,o._)("div",{class:"text-center q-pa-md"},[(0,o._)("strong",null," Cuando envies el formulario de actualización, asegurate de llenar todos los campos correctamente. ")],-1),q={class:"text-h5 text-center"},U=(0,o.Uk)("¡Estas por eliminar la Cryptomoneda "),x=(0,o.Uk)("!"),k={class:"q-pa-md"},F=["src"],T=(0,o._)("div",{class:"text-h5 text-center q-pa-md"},[(0,o._)("strong",null,"¿Estas seguro?")],-1),D={class:"q-pa-md"},H={class:"text-h5 text-center q-pa-md"},Z={class:"text-center q-pa-md"},N=(0,o._)("div",{class:"text-h5 text-center q-pa-md"},[(0,o._)("strong",null,"Data del arreglo con los Objetos de las Cryptomonedas")],-1),Q={class:"text-center q-pa-md"},z={class:"q-mt-md"};function j(e,t,l,a,r,n){const s=(0,o.up)("q-badge"),i=(0,o.up)("q-btn"),p=(0,o.up)("q-icon"),j=(0,o.up)("q-input"),R=(0,o.up)("q-td"),S=(0,o.up)("q-avatar"),A=(0,o.up)("q-card-section"),E=(0,o.up)("q-file"),O=(0,o.up)("q-form"),P=(0,o.up)("q-card"),G=(0,o.up)("q-dialog"),M=(0,o.up)("q-card-actions"),B=(0,o.up)("q-tr"),L=(0,o.up)("q-table"),$=(0,o.Q2)("close-popup");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(L,{title:"Cryptomonedas","no-data-label":"No hay cryptomonedas",rows:a.cryptosDataFiltered,columns:a.columns},{"top-left":(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.Wm)(s,{class:"text-h6 shadow-3"},{default:(0,o.w5)((()=>[m])),_:1}),(0,o.Wm)(i,{dense:"",flat:"",icon:"info",color:"grey-8",onClick:n.getCryptosImfo},null,8,["onClick"])])])),"top-right":(0,o.w5)((()=>[(0,o.Wm)(j,{filled:"",dense:"",debounce:"300",placeholder:"Buscar Cryptomoneda",modelValue:n.filter,"onUpdate:modelValue":t[0]||(t[0]=e=>n.filter=e),"bg-color":"blue-1"},{append:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"search"})])),before:(0,o.w5)((()=>[(0,o.Wm)(i,{dense:"",icon:"refresh",color:"blue-5",type:"reset",onClick:n.resetFilter},null,8,["onClick"])])),_:1},8,["modelValue"])])),body:(0,o.w5)((e=>[(0,o.Wm)(B,{key:"",props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{key:"name",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,o.Wm)(R,{key:"symbol",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.symbol),1)])),_:2},1032,["props"]),(0,o.Wm)(R,{key:"value",props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{color:"green"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,u.zw)(e.row.value)+" ",1),(0,o.Wm)(p,{name:"attach_money"})])),_:2},1024)])),_:2},1032,["props"]),(0,o.Wm)(R,{key:"logotype",props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(S,{size:"100px",class:"shadow-5"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:e.row.logotype},null,8,c)])),_:2},1024)])),_:2},1032,["props"]),(0,o.Wm)(R,{key:"actions",props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{dense:"",flat:"",color:"blue-5",icon:"edit",onClick:t=>n.updateSendForm(e.row.name,e.row.symbol,e.row.value,e.row.logotype,e.row._id,e.row.mediaId)},null,8,["onClick"]),(0,o.Wm)(i,{dense:"",flat:"",color:"red-5",icon:"delete",onClick:t=>n.confirmDeleteCrypto(e.row._id,e.row.mediaId,e.row.name,e.row.logotype)},null,8,["onClick"]),(0,o.Wm)(i,{dense:"",flat:"",icon:"info",color:"grey-8",onClick:t=>n.getImfo(e.row)},null,8,["onClick"])])),_:2},1032,["props"]),(0,o.Wm)(G,{modelValue:a.promptEdit,"onUpdate:modelValue":t[7]||(t[7]=e=>a.promptEdit=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o._)("div",h,[y,(0,o._)("strong",null,(0,u.zw)(a.cryptoNameToUpdate),1)])])),_:1}),(0,o.Wm)(A,{class:"q-pt-none"},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{onSubmit:t[6]||(t[6]=e=>n.sendFormUpdate(this.imageCryptoId,this.cryptoId,this.logotypeUpdateForm,e)),onReset:n.onUpdateReset,onValidationError:n.errorFormMessage,ref:"updateForm",class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(j,{outlined:"",modelValue:a.updateName,"onUpdate:modelValue":t[1]||(t[1]=e=>a.updateName=e),label:"Inserta un nombre","lazy-rules":"",mask:"Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",rules:[e=>null!==e&&""!==e||"Rellena el campo",e=>e.length>3||"Introduce minimo 4 Caracteres"],hint:this.updateName},null,8,["modelValue","rules","hint"]),(0,o.Wm)(j,{outlined:"",type:"text",modelValue:a.updateSymbol,"onUpdate:modelValue":t[2]||(t[2]=e=>a.updateSymbol=e),label:"Inserta un simbolo","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Rellena el campo"],hint:this.updateSymbol,mask:"AAAA"},null,8,["modelValue","rules","hint"]),(0,o.Wm)(j,{outlined:"",type:"number",modelValue:a.updateValue,"onUpdate:modelValue":t[3]||(t[3]=e=>a.updateValue=e),label:"Inserta un precio",rules:[e=>null!==e&&""!==e||"Rellena el campo",e=>e>0&&e<1e8||"Introduce un valor real"],hint:this.updateValue},null,8,["modelValue","rules","hint"]),(0,o.Wm)(E,{filled:"","bottom-slots":"",modelValue:a.updateImage,"onUpdate:modelValue":t[5]||(t[5]=e=>a.updateImage=e),"bg-color":"blue-2",label:"Inserta una imagen(Opcional)",accept:"image/jpeg,.png,.svg",counter:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"file_upload"})])),append:(0,o.w5)((()=>[(0,o.Wm)(p,{name:"close",onClick:t[4]||(t[4]=(0,d.iM)((e=>a.updateImage=null),["stop"])),class:"cursor-pointer"})])),hint:(0,o.w5)((()=>[g])),after:(0,o.w5)((()=>[(0,o.Wm)(S,{size:"70px",class:"shadow-5"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:this.logotypeUpdateForm},null,8,f)])),_:1})])),_:1},8,["modelValue"]),(0,o._)("div",w,[(0,o.wy)((0,o.Wm)(i,{pust:"",color:"red",icon:"close","text-color":"white",type:"reset",label:"Cancelar"},null,512),[[$]]),(0,o.wy)((0,o.Wm)(i,{push:"",color:"blue-5",icon:"cloud_upload",class:"q-ma-md",type:"submit","text-color":"white",label:"Actualizar"},null,512),[[$]])])])),_:1},8,["onReset","onValidationError"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(G,{modelValue:a.promptFailedUpdate,"onUpdate:modelValue":t[8]||(t[8]=e=>a.promptFailedUpdate=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{align:"center"},{default:(0,o.w5)((()=>[(0,o._)("div",b,[_,(0,o._)("strong",null,(0,u.zw)(a.cryptoNameToUpdate),1),C]),(0,o._)("div",I,[(0,o.Wm)(S,{size:"150px"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:a.errorImage},null,8,W)])),_:1})]),v,V,(0,o.Wm)(M,{align:"center",class:"text-primary q-pa-md"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(i,{pust:"",color:"blue-5",icon:"check","text-color":"white",label:"Ok, entendido"},null,512),[[$]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(G,{modelValue:a.promptDelete,"onUpdate:modelValue":t[10]||(t[10]=e=>a.promptDelete=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{align:"center"},{default:(0,o.w5)((()=>[(0,o._)("div",q,[U,(0,o._)("strong",null,(0,u.zw)(a.cryptoNameToDelete),1),x]),(0,o._)("div",k,[(0,o.Wm)(S,{size:"150px",class:"shadow-10"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:a.logotypeCryptoToDelete},null,8,F)])),_:1})]),T])),_:1}),(0,o.Wm)(M,{align:"center",class:"text-primary"},{default:(0,o.w5)((()=>[(0,o._)("div",null,[(0,o.wy)((0,o.Wm)(i,{pust:"",color:"green-5",icon:"close","text-color":"white",label:"No, Cancelar"},null,512),[[$]])]),(0,o._)("div",D,[(0,o.wy)((0,o.Wm)(i,{push:"",color:"red-5",icon:"delete",onClick:t[9]||(t[9]=e=>n.deleteCrypto(this.cryptoIdToDelete,this.cryptoMediaIdToDelete)),"text-color":"white",label:"Si, Eliminar"},null,512),[[$]])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(G,{modelValue:a.promptGetImfo,"onUpdate:modelValue":t[11]||(t[11]=e=>a.promptGetImfo=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{align:"center"},{default:(0,o.w5)((()=>[(0,o._)("div",H,[(0,o._)("strong",null,"Objeto de la Cryptomoneda "+(0,u.zw)(this.cryptoToImfo),1)]),(0,o._)("div",Z,[(0,o._)("strong",null,(0,u.zw)(this.objectCrypto),1)]),(0,o.Wm)(M,{align:"center",class:"text-primary q-pa-md"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(i,{pust:"",color:"blue-5",icon:"close","text-color":"white",label:"Cerrar"},null,512),[[$]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(G,{modelValue:a.promptGetCryptosImfo,"onUpdate:modelValue":t[12]||(t[12]=e=>a.promptGetCryptosImfo=e),persistent:""},{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(A,{align:"center"},{default:(0,o.w5)((()=>[N,(0,o._)("div",Q,[(0,o._)("strong",null,(0,u.zw)(a.cryptosData),1)]),(0,o.Wm)(M,{align:"center",class:"text-primary q-pa-md"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o.Wm)(i,{pust:"",color:"blue-5",icon:"close","text-color":"white",label:"Cerrar"},null,512),[[$]])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"]),(0,o._)("div",z,[(0,o.Wm)(i,{push:"",color:"blue-5",icon:"refresh",type:"button",onClick:n.getCryptos,"text-color":"white",label:"Refrescar"},null,8,["onClick"])])],64)}var R=l(1959),S=l(8825);const A=(0,R.iH)([]),E=(0,R.iH)([]),O=(0,R.iH)(!1),P=(0,R.iH)(null),G=(0,R.iH)(null),M=(0,R.iH)(null),B=(0,R.iH)(null),L=(0,R.iH)(null),$=(0,R.iH)(null),J=(0,R.iH)(null),Y=(0,R.iH)(null),K=(0,R.iH)(null),X="http://192.168.100.170:5565/file-1658009240618.png",ee=(0,R.iH)(null),te=(0,R.iH)(null),le=(0,R.iH)(null),oe=(0,R.iH)(null),ae=(0,R.iH)(null),re=(0,R.iH)(null),ne=(0,R.iH)(null),se=(0,R.iH)(null),ie=(0,R.iH)(null),pe=(0,R.iH)(null),ue=(0,R.iH)(null),de=[{name:"name",required:!0,label:"Nombre",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"symbol",required:!0,label:"Simbolo",align:"left",field:e=>e.symbol,format:e=>`${e}`,sortable:!0},{name:"value",align:"left",label:"Valor",field:"value",sortable:!0},{name:"logotype",label:"Logotipo",align:"center",field:"logotype",sortable:!1},{name:"actions",label:"Acciones",align:"center",sortable:!1}],me={setup(){const e=(0,S.Z)();return{columns:de,cryptosData:A,cryptosDataFiltered:E,promptEdit:O,cryptoNameToUpdate:P,updateName:G,updateSymbol:M,updateValue:B,updateImage:L,logotypeUpdateForm:$,imageCryptoId:J,cryptoId:Y,promptFailedUpdate:K,errorImage:X,updateForm:ee,logotypeCryptoToDelete:te,cryptoNameToDelete:le,promptDelete:oe,cryptoIdToDelete:ae,cryptoMediaIdToDelete:re,filterText:ne,cryptoToImfo:se,objectCrypto:ie,promptGetImfo:pe,promptGetCryptosImfo:ue,updateFormNotify(){e.notify({color:"blue-4",textColor:"white",icon:"cloud_done",message:"¡Actualizada!"})},deleteCryptoNotify(){e.notify({color:"red-4",textColor:"white",icon:"delete_forever",message:"¡Eliminada!"})}}},created(){this.getCryptos()},methods:{getCryptos(){fetch("http://192.168.100.170:5565/crypto").then((e=>e.json())).then((e=>{this.cryptosData=e.data,this.cryptosDataFiltered=this.cryptosData}))},updateSendForm(e,t,l,o,a,r){this.cryptoNameToUpdate=e,this.updateName=e,this.updateSymbol=t,this.updateValue=l,this.logotypeUpdateForm=o,this.updateImage=null,this.imageCryptoId=r,this.cryptoId=a,this.promptEdit=!0},sendFormUpdate(e,t,l,o){if(null===this.updateImage)o.preventDefault(),fetch("http://192.168.100.170:5565/crypto/"+t,{method:"PUT",body:JSON.stringify({name:this.updateName,symbol:this.updateSymbol,value:this.updateValue,mediaId:e,logotype:l}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.updateFormNotify(),this.onUpdateReset()}));else{o.preventDefault();const l=new FormData;console.log(this.updateImage),l.append("myfile",this.updateImage),this.updateImageCrypto(l,e,t)}},updateImageCrypto(e,t,l){fetch("http://192.168.100.170:5565/images/"+t,{method:"PUT",body:e}).then((e=>e.json())).then((e=>{this.updateCrypto(l,e)}))},updateCrypto(e,t){fetch("http://192.168.100.170:5565/crypto/"+e,{method:"PUT",body:JSON.stringify({name:this.updateName,symbol:this.updateSymbol,value:this.updateValue,mediaId:t.fileData.identificador,logotype:t.fileData.url}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{this.updateFormNotify(),this.onUpdateReset()}))},confirmDeleteCrypto(e,t,l,o){this.logotypeCryptoToDelete=o,this.cryptoNameToDelete=l,this.promptDelete=!0,this.cryptoIdToDelete=e,this.cryptoMediaIdToDelete=t},deleteCrypto(e,t){this.filterText=null,fetch("http://192.168.100.170:5565/crypto/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-type":"application/json"}}).then((e=>e.json())).then((e=>{this.deleteImage(t)}))},deleteImage(e){fetch("http://192.168.100.170:5565/images/"+e,{method:"DELETE",headers:{Accept:"application/json","Content-type":"application/json"}}).then((e=>e.json())).then((e=>{this.deleteCryptoNotify(),this.getCryptos()}))},onUpdateReset(){this.cryptoNameToUpdate=null,this.updateName=null,this.updateSymbol=null,this.updateValue=null,this.logotypeUpdateForm=null,this.updateImage=null,this.imageCryptoId=null,this.cryptoId=null,this.filterText=null,this.getCryptos()},errorFormMessage(){this.promptFailedUpdate=!0},getCryptosImfo(){this.promptGetCryptosImfo=!0},getImfo(e){this.cryptoToImfo=e.name,this.objectCrypto=e,this.promptGetImfo=!0},cancel(){this.updateImage=null},resetFilter(){this.filterText="",this.getCryptos()}},computed:{filter:{get(){return this.filterText},set(e){e=e.toLowerCase(),this.cryptosDataFiltered=this.cryptosData.filter((t=>-1!==t.name.toLowerCase().indexOf(e))),this.filterText=e}}}};var ce=l(4260),he=l(474),ye=l(9721),ge=l(8240),fe=l(4689),we=l(4554),be=l(8186),_e=l(3884),Ce=l(5096),Ie=l(6778),We=l(151),ve=l(5589),Ve=l(5269),qe=l(1052),Ue=l(9367),xe=l(677),ke=l(7518),Fe=l.n(ke);const Te=(0,ce.Z)(me,[["render",j]]),De=Te;Fe()(me,"components",{QTable:he.Z,QBadge:ye.Z,QBtn:ge.Z,QInput:fe.Z,QIcon:we.Z,QTr:be.Z,QTd:_e.Z,QAvatar:Ce.Z,QDialog:Ie.Z,QCard:We.Z,QCardSection:ve.Z,QForm:Ve.Z,QFile:qe.Z,QCardActions:Ue.Z}),Fe()(me,"directives",{ClosePopup:xe.Z});const He={class:"col-12 col-sm-6"},Ze={class:"col-12 col-sm-6"},Ne={class:"col-12 col-sm-6"},Qe={class:"col-12 col-sm-6"},ze=(0,o.Uk)(" file size "),je={class:"col-12"};function Re(e,t,l,a,r,n){const s=(0,o.up)("q-input"),i=(0,o.up)("q-icon"),p=(0,o.up)("q-file"),u=(0,o.up)("q-btn"),m=(0,o.up)("q-form");return(0,o.wg)(),(0,o.j4)(m,{onSubmit:n.sendForm,onReset:n.onReset,ref:"registerForm",class:"q-col-gutter-md row"},{default:(0,o.w5)((()=>[(0,o._)("div",He,[(0,o.Wm)(s,{outlined:"",modelValue:a.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),mask:"Aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa",label:"Inserta un nombre","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Rellena el campo",e=>e.length>3||"Introduce minimo 4 Caracteres"]},null,8,["modelValue","rules"])]),(0,o._)("div",Ze,[(0,o.Wm)(s,{outlined:"",modelValue:a.symbol,"onUpdate:modelValue":t[1]||(t[1]=e=>a.symbol=e),mask:"AAAA",label:"Inserta un simbolo","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Rellena el campo"]},null,8,["modelValue","rules"])]),(0,o._)("div",Ne,[(0,o.Wm)(s,{outlined:"",type:"number",modelValue:a.value,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value=e),label:"Inserta un precio","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Rellena el campo",e=>e>0&&e<1e8||"Introduce un valor real"]},null,8,["modelValue","rules"])]),(0,o._)("div",Qe,[(0,o.Wm)(p,{filled:"","bottom-slots":"",modelValue:a.image,"onUpdate:modelValue":t[5]||(t[5]=e=>a.image=e),"bg-color":"blue-2",label:"Inserta una imagen",accept:"image/jpeg,.png,.svg","lazy-rules":"",rules:[e=>null!==e&&""!==e||"Inserta una imagen"],counter:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(i,{name:"file_upload",onClick:t[3]||(t[3]=(0,d.iM)((()=>{}),["stop"]))})])),append:(0,o.w5)((()=>[(0,o.Wm)(i,{name:"close",onClick:t[4]||(t[4]=(0,d.iM)((e=>a.image=null),["stop"])),class:"cursor-pointer"})])),hint:(0,o.w5)((()=>[ze])),_:1},8,["modelValue","rules"])]),(0,o._)("div",je,[(0,o.Wm)(u,{push:"",color:"green-5",type:"submit",icon:"cloud_upload","text-color":"white",label:"Registrar"}),(0,o.Wm)(u,{push:"",color:"blue-5",icon:"refresh",class:"q-ml-sm",type:"reset","text-color":"white",label:"Resetear"})])])),_:1},8,["onSubmit","onReset"])}const Se={setup(){const e=(0,R.iH)(null),t=(0,R.iH)(null),l=(0,R.iH)(null),o=(0,R.iH)(null),a=(0,R.iH)(null),r=(0,R.iH)(null),n=(0,R.iH)(null),s=(0,S.Z)();return{name:t,symbol:l,value:o,image:a,mediaId:r,logotype:n,registerForm:e,sendFormNotify(){s.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"¡Registrada!"})}}},methods:{sendForm(e){e.preventDefault();const t=new FormData;t.append("myfile",this.image),this.createImage(t)},createImage(e){fetch("http://192.168.100.170:5565/images",{method:"POST",body:e}).then((e=>e.json())).then((e=>{this.mediaId=e.data._id,this.logotype=e.data.url,this.createCrypto()}))},createCrypto(){fetch("http://192.168.100.170:5565/crypto",{method:"POST",body:JSON.stringify({name:this.name,symbol:this.symbol,value:this.value,mediaId:this.mediaId,logotype:this.logotype}),headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{console.log(this.$refs.registerForm),this.$refs.registerForm.resetValidation(),this.sendFormNotify(),this.onReset()}))},onReset(){this.name=null,this.value=null,this.symbol=null,this.image=null,this.getCryptos()},getCryptos(){De.methods.getCryptos()}}},Ae=(0,ce.Z)(Se,[["render",Re]]),Ee=Ae;Fe()(Se,"components",{QForm:Ve.Z,QInput:fe.Z,QFile:qe.Z,QIcon:we.Z,QBtn:ge.Z});const Oe={components:{CryptosQTable:De,CryptosRegisterQFormVue:Ee}};var Pe=l(4379);const Ge=(0,ce.Z)(Oe,[["render",p]]),Me=Ge;Fe()(Oe,"components",{QPage:Pe.Z,QCard:We.Z,QCardSection:ve.Z,QBadge:ye.Z,QForm:Ve.Z,QTable:he.Z})}}]);